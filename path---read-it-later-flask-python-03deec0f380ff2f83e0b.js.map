{"version":3,"sources":["webpack:///path---read-it-later-flask-python-03deec0f380ff2f83e0b.js","webpack:///./.cache/json/read-it-later-flask-python.json"],"names":["webpackJsonp","./node_modules/json-loader/index.js!./.cache/json/read-it-later-flask-python.json","module","exports","data","site","siteMetadata","author","homeCity","markdownRemark","html","excerpt","fields","tagSlugs","frontmatter","title","tags","date","pathContext","slug"],"mappings":"AAAAA,cAAc,KAERC,oFACA,SAAUC,EAAQC,GCHxBD,EAAAC,SACAC,MACAC,MACAC,cACAC,OAAA,mBACAC,SAAA,UAGAC,gBACAC,KAAA;AACAC,QAAA,8IACAC,QACAC,UACA,gBACA,mBACA,yBAGAC,aACAC,MAAA,2DACAC,MACA,SACA,YACA,iBAEAC,KAAA,qBAIAC,aACAC,KAAA","file":"path---read-it-later-flask-python-03deec0f380ff2f83e0b.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ \"./node_modules/json-loader/index.js!./.cache/json/read-it-later-flask-python.json\":\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"data\": {\n\t\t\t\"site\": {\n\t\t\t\t\"siteMetadata\": {\n\t\t\t\t\t\"author\": \"Naqushab Neyazee\",\n\t\t\t\t\t\"homeCity\": \"Noida\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"markdownRemark\": {\n\t\t\t\t\"html\": \"<p>Welcome to sixteenth week of <a href=\\\"https://github.com/shekhargulati/52-technologies-in-2016\\\">52 Technologies in 2016</a> blog series. This week I will show you how to build a simple yet working <strong>Read It Later</strong> application using Twitter likes (or favorites). I rely on my Twitter feed for my daily reading recommendations. I check Twitter several time during the day and whenever I find any article that interests me I like it so that I can read it later. In this tutorial, you will learn how to build <code>Read It Later</code> application using Python programming language. We will make use of article extraction to extract relevant content from the urls.</p>\\n<p>To build this application, we will use following Python libraries:</p>\\n<ol>\\n<li><strong>Flask</strong>: We will use <code>Flask</code> framework to take care of the web feature of the app i.e. handling requests and responding to use with reading recommendation.</li>\\n<li><strong>Tweepy</strong>: <code>Tweepy</code> is a very easy to use library that we will use to talk to Twitter streaming API. We will subscribe to a user’s Twitter stream so as soon as user likes a tweet our application will be notified.</li>\\n<li><strong>Newspaper</strong>: <a href=\\\"https://github.com/codelucas/newspaper\\\">newspaper</a> is a great library to perform article extraction in Python. It makes use of popular Python libraries like <code>beautifulsoup4</code>, <code>lxml</code>, <code>nltk</code> to get the job done.</li>\\n</ol>\\n<p>By the end of this tutorial, you will have a simple yet working application to view articles that you wanted to read later. The following is the screenshot of our application. As you can see below, we extracted main image, summary text, and title from the url.</p>\\n<p><img src=\\\"stories.jpg\\\" alt=\\\"Screenshot\\\"></p>\\n<h2>What is Newspaper?</h2>\\n<p>In this tutorial, I will talk about a Python package called <a href=\\\"http://newspaper.readthedocs.org/\\\">Newspaper</a>. Newspaper is an open source news full-text and article metadata extraction library written in Python 3. It has a very easy to use API that can help you get started in minutes. It can be used to extract the main text of an article, main image of an article, videos in an article, meta description, and meta tags in an article. Newspaper stands on strong shoulders of <code>beautifulsoup4</code>, <code>lxml</code>, and <code>nltk</code> libraries.</p>\\n<p>To extract text from a URL is as simple as shown below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> <span class=\\\"token keyword\\\">from</span> newspaper <span class=\\\"token keyword\\\">import</span> Article\\n\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> url <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'http://firstround.com/review/the-remarkable-advantage-of-abundant-thinking/'</span>\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article <span class=\\\"token operator\\\">=</span> Article<span class=\\\"token punctuation\\\">(</span>url<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article<span class=\\\"token punctuation\\\">.</span>build<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article<span class=\\\"token punctuation\\\">.</span>title\\n<span class=\\\"token string\\\">'The Remarkable Advantage of Abundant Thinking'</span>\\n\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article<span class=\\\"token punctuation\\\">.</span>text<span class=\\\"token punctuation\\\">.</span>split<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'\\\\n\\\\n'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token string\\\">\\\"If you consider yourself to be ambitious, this has happened to you. Your alarm goes off, and you're ambushed by thoughts of the grind ahead; finding that needle in a haystack; denting the universe; the roller coaster that never ends and many more horrible but unfortunately apt cliches. Today, the groupthink in tech largely believes that you have to suffer and barely survive to succeed. But this is a trap, says sought-after executive coach Katia Verresen, who counsels leaders at Facebook, Stanford, Airbnb, Twitter, and a number of prominent startups.\\\"</span>\\n</code></pre>\\n      </div>\\n<h2>Prerequisite</h2>\\n<p>To follow this blog, you need to have following on your machine:</p>\\n<ol>\\n<li>\\n<p><strong>Python</strong>: You can download Python executable for your operating system from <a href=\\\"https://www.python.org/downloads/\\\">https://www.python.org/downloads/</a>. I will be using Python version <code>3.4.2</code>.</p>\\n</li>\\n<li>\\n<p><strong>Virtualenv</strong>: Virtualenv tool allows you to create isolated Python environments without polluting the global Python installation. This allows you to use multiple Python versions easily on a single machine. Please refer to official documentation for <a href=\\\"https://virtualenv.pypa.io/en/latest/installation.html\\\">installation</a> instructions.</p>\\n</li>\\n<li>\\n<p>Create a new Twitter app <a href=\\\"http://dev.twitter.com/apps\\\">http://dev.twitter.com/apps</a> and note down <code>Consumer Key (API Key)</code>, <code>Consumer Secret (API Secret)</code>, <code>Access Token</code>, and <code>Access Token Secret</code>. We will use them to connect to Twitter API for a user.</p>\\n</li>\\n</ol>\\n<h2>Github Repository</h2>\\n<p>The code for demo application is available on github at <a href=\\\"https://github.com/shekhargulati/dailyreads\\\">dailyreads</a>.</p>\\n<h2>Step 1: Setting up environment</h2>\\n<p>We will start with setting up development environment so that we can build <code>dailyreads</code> application. I use Python <code>virtualenv</code> for most of my Python applications. It helps keep my project environment separate and does not pollute global Python installation.</p>\\n<p>Open a command-line terminal and navigate to a convenient directory on your file system. Make a new directory called <code>dailyreads</code> and change directory to it.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code>$ <span class=\\\"token function\\\">mkdir</span> dailyreads <span class=\\\"token operator\\\">&amp;&amp;</span> <span class=\\\"token function\\\">cd</span> dailyreads\\n</code></pre>\\n      </div>\\n<p>Once inside the <code>dailyreads</code> directory, create a Python 3 virtualenv and activate it.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code>$ virtualenv venv --python<span class=\\\"token operator\\\">=</span>python3\\n$ <span class=\\\"token function\\\">source</span> venv/bin/activate\\n</code></pre>\\n      </div>\\n<p>You can verify the Python installation by executing <code>which python</code> command. It should point to the Python installation inside the <code>venv</code> directory.</p>\\n<h2>Step 2: Download and install dependencies</h2>\\n<p>As mentioned above, we will make use of <code>flask</code>, <code>tweepy</code>, and <code>newspaper</code> libraries. We can download all of them using <code>pip</code>. <code>pip</code> is package manager used to install and manage software packages written in Python.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code>$ pip <span class=\\\"token function\\\">install</span> flask\\n$ pip <span class=\\\"token function\\\">install</span> tweepy\\n$ pip <span class=\\\"token function\\\">install</span> newspaper3k\\n</code></pre>\\n      </div>\\n<p>This will download all the required dependencies and their transitive dependencies.  To view all the installed packages, you can use the <code>pip list</code> command.</p>\\n<h2>Step 3: Write twitter stream listener for user liked tweets</h2>\\n<p>Create a new file <code>app.py</code> inside the <code>dailyreads</code> directory. The first task of our application is to listen to user’s like tweet stream. We will make use of <code>Tweepy</code> library to connect to user tweet stream and select events that are of type <code>favorite</code> as shown below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token keyword\\\">from</span> __future__ <span class=\\\"token keyword\\\">import</span> absolute_import<span class=\\\"token punctuation\\\">,</span> print_function\\n<span class=\\\"token keyword\\\">from</span> tweepy<span class=\\\"token punctuation\\\">.</span>streaming <span class=\\\"token keyword\\\">import</span> StreamListener\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> OAuthHandler\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> Stream\\n<span class=\\\"token keyword\\\">import</span> os\\n<span class=\\\"token keyword\\\">import</span> json\\n\\nconsumer_key<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_KEY\\\"</span><span class=\\\"token punctuation\\\">)</span>\\nconsumer_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_TOKEN\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LikedTweetsListener</span><span class=\\\"token punctuation\\\">(</span>StreamListener<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_data</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        tweet <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>loads<span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token string\\\">'event'</span> <span class=\\\"token keyword\\\">in</span> tweet <span class=\\\"token operator\\\">and</span> tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'event'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">\\\"favorite\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n            <span class=\\\"token keyword\\\">print</span><span class=\\\"token punctuation\\\">(</span>tweet<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">return</span> <span class=\\\"token boolean\\\">True</span>\\n\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_error</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Error status received : {0}\\\"</span><span class=\\\"token punctuation\\\">.</span>format<span class=\\\"token punctuation\\\">(</span>status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">if</span> __name__ <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">'__main__'</span><span class=\\\"token punctuation\\\">:</span>\\n    l <span class=\\\"token operator\\\">=</span> LikedTweetsListener<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    auth <span class=\\\"token operator\\\">=</span> OAuthHandler<span class=\\\"token punctuation\\\">(</span>consumer_key<span class=\\\"token punctuation\\\">,</span> consumer_secret<span class=\\\"token punctuation\\\">)</span>\\n    auth<span class=\\\"token punctuation\\\">.</span>set_access_token<span class=\\\"token punctuation\\\">(</span>access_token<span class=\\\"token punctuation\\\">,</span> access_token_secret<span class=\\\"token punctuation\\\">)</span>\\n\\n    stream <span class=\\\"token operator\\\">=</span> Stream<span class=\\\"token punctuation\\\">(</span>auth<span class=\\\"token punctuation\\\">,</span> l<span class=\\\"token punctuation\\\">)</span>\\n    stream<span class=\\\"token punctuation\\\">.</span>userstream<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>In the code shown above, we did following:</p>\\n<ol>\\n<li>We imported all the required classes and method that we will need to connect Twitter API.</li>\\n<li>We extracted twitter keys from the environment variables and set them as script variables. It is a good idea to use environment variables from the beginning to make sure you don’t commit your keys to version control system and end up making them public.</li>\\n<li>We created a new <code>StreamListener</code> listener. <code>StreamListener</code> exposes several <code>on_*</code> methods that will be invoked when particular events happen. We have overridden <code>on_data</code> and <code>on_error</code> handlers. As is obvious from their names, <code>on_data</code> is called whenever new data is available and <code>on_error</code> is called whenever any exception happens. In the <code>on_data</code> method, we are only printing out events that are of type <code>favorite</code>. Twitter uses event type of favorite for like tweets as well.</li>\\n<li>Finally, we created an instance of <code>Stream</code> object and invoked<code>userstream</code> method on it.</li>\\n</ol>\\n<p>You can run <code>app.py</code> using the <code>python app.py</code>. Make sure to set the environment variables before running the script.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>export TWITTER_CONSUMER_KEY=*********************\\nexport TWITTER_CONSUMER_SECRET=******************************************\\nexport TWITTER_ACCESS_TOKEN=**************************************************\\nexport TWITTER_ACCESS_SECRET=******************************************</code></pre>\\n      </div>\\n<h2>Step 4: Extract article content from the tweet</h2>\\n<p>This is the main part of the application. Now, that we have handle to a liked tweet. We have to extract the content from it. We will use <code>newspaper</code> library to perform article extraction for us.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token keyword\\\">from</span> __future__ <span class=\\\"token keyword\\\">import</span> absolute_import<span class=\\\"token punctuation\\\">,</span> print_function\\n<span class=\\\"token keyword\\\">from</span> tweepy<span class=\\\"token punctuation\\\">.</span>streaming <span class=\\\"token keyword\\\">import</span> StreamListener\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> OAuthHandler\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> Stream\\n<span class=\\\"token keyword\\\">import</span> os\\n\\nconsumer_key<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_KEY\\\"</span><span class=\\\"token punctuation\\\">)</span>\\nconsumer_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_TOKEN\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n\\narticles <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span>\\n\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LikedTweetsListener</span><span class=\\\"token punctuation\\\">(</span>StreamListener<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_data</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        tweet <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>loads<span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token string\\\">'event'</span> <span class=\\\"token keyword\\\">in</span> tweet <span class=\\\"token operator\\\">and</span> tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'event'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">\\\"favorite\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n            liked_tweet <span class=\\\"token operator\\\">=</span> tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"target_object\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n            liked_tweet_text <span class=\\\"token operator\\\">=</span> liked_tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"text\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n            story_url <span class=\\\"token operator\\\">=</span> extract_url<span class=\\\"token punctuation\\\">(</span>liked_tweet<span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token keyword\\\">if</span> story_url<span class=\\\"token punctuation\\\">:</span>\\n                article <span class=\\\"token operator\\\">=</span> extract_article<span class=\\\"token punctuation\\\">(</span>story_url<span class=\\\"token punctuation\\\">)</span>\\n                <span class=\\\"token keyword\\\">if</span> article<span class=\\\"token punctuation\\\">:</span>\\n                    article<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'story_url'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> story_url\\n                    article<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'liked_on'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> time<span class=\\\"token punctuation\\\">.</span>time<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n                    articles<span class=\\\"token punctuation\\\">.</span>append<span class=\\\"token punctuation\\\">(</span>article<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">return</span> <span class=\\\"token boolean\\\">True</span>\\n\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_error</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Error status received : {0}\\\"</span><span class=\\\"token punctuation\\\">.</span>format<span class=\\\"token punctuation\\\">(</span>status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n\\n<span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">extract_url</span><span class=\\\"token punctuation\\\">(</span>liked_tweet<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    url_entities <span class=\\\"token operator\\\">=</span> liked_tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"entities\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"urls\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token keyword\\\">if</span> url_entities <span class=\\\"token operator\\\">and</span> len<span class=\\\"token punctuation\\\">(</span>url_entities<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">return</span> url_entities<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'expanded_url'</span><span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token keyword\\\">else</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">return</span> None    \\n\\n\\n<span class=\\\"token keyword\\\">from</span> newspaper <span class=\\\"token keyword\\\">import</span> Article\\n\\n<span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">extract_article</span><span class=\\\"token punctuation\\\">(</span>story_url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    article <span class=\\\"token operator\\\">=</span> Article<span class=\\\"token punctuation\\\">(</span>story_url<span class=\\\"token punctuation\\\">)</span>\\n    article<span class=\\\"token punctuation\\\">.</span>download<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    article<span class=\\\"token punctuation\\\">.</span>parse<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    title <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>title\\n    img <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>top_image\\n    publish_date <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>publish_date\\n    text <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>text<span class=\\\"token punctuation\\\">.</span>split<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'\\\\n\\\\n'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token keyword\\\">if</span> article<span class=\\\"token punctuation\\\">.</span>text <span class=\\\"token keyword\\\">else</span> <span class=\\\"token string\\\">\\\"\\\"</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">'title'</span><span class=\\\"token punctuation\\\">:</span>title<span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'img'</span><span class=\\\"token punctuation\\\">:</span>img<span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'publish_date'</span><span class=\\\"token punctuation\\\">:</span>publish_date<span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'text'</span><span class=\\\"token punctuation\\\">:</span>text<span class=\\\"token punctuation\\\">.</span>encode<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'ascii'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'ignore'</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>The <code>extract_article</code> method shown above does all the important work using the newspaper library. To use it, first import the <code>Article</code> class from the <code>newspaper</code> module. Then, you build the article by first instantiating it with the <code>url</code> and then calling <code>download</code> and <code>parse</code> methods. The <code>download</code> method downloads the page content and <code>parse</code> method extract the relevant information from the page. Finally, we build a <code>dict</code> object with all the relevant information and return it.</p>\\n<h2>Step 5: Render articles using Flask</h2>\\n<p>Now, we will a build a simple web application that will render articles. This will also reside inside the <code>app.py</code> file.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token keyword\\\">from</span> flask <span class=\\\"token keyword\\\">import</span> Flask<span class=\\\"token punctuation\\\">,</span> render_template\\n\\napp <span class=\\\"token operator\\\">=</span> Flask<span class=\\\"token punctuation\\\">(</span>__name__<span class=\\\"token punctuation\\\">)</span>\\n\\n\\n@app<span class=\\\"token punctuation\\\">.</span>route<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">index</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token keyword\\\">return</span> render_template<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"index.html\\\"</span><span class=\\\"token punctuation\\\">,</span> articles<span class=\\\"token operator\\\">=</span>sorted<span class=\\\"token punctuation\\\">(</span>articles<span class=\\\"token punctuation\\\">,</span> key<span class=\\\"token operator\\\">=</span><span class=\\\"token keyword\\\">lambda</span> article<span class=\\\"token punctuation\\\">:</span> article<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"liked_on\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> reverse<span class=\\\"token operator\\\">=</span><span class=\\\"token boolean\\\">True</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">if</span> __name__ <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">'__main__'</span><span class=\\\"token punctuation\\\">:</span>\\n    l <span class=\\\"token operator\\\">=</span> LikedTweetsListener<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    auth <span class=\\\"token operator\\\">=</span> OAuthHandler<span class=\\\"token punctuation\\\">(</span>consumer_key<span class=\\\"token punctuation\\\">,</span> consumer_secret<span class=\\\"token punctuation\\\">)</span>\\n    auth<span class=\\\"token punctuation\\\">.</span>set_access_token<span class=\\\"token punctuation\\\">(</span>access_token<span class=\\\"token punctuation\\\">,</span> access_token_secret<span class=\\\"token punctuation\\\">)</span>\\n\\n    stream <span class=\\\"token operator\\\">=</span> Stream<span class=\\\"token punctuation\\\">(</span>auth<span class=\\\"token punctuation\\\">,</span> l<span class=\\\"token punctuation\\\">)</span>\\n    stream<span class=\\\"token punctuation\\\">.</span>userstream<span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">async</span><span class=\\\"token operator\\\">=</span><span class=\\\"token boolean\\\">True</span><span class=\\\"token punctuation\\\">)</span>\\n\\n    app<span class=\\\"token punctuation\\\">.</span>run<span class=\\\"token punctuation\\\">(</span>debug<span class=\\\"token operator\\\">=</span><span class=\\\"token boolean\\\">True</span><span class=\\\"token punctuation\\\">)</span>    \\n</code></pre>\\n      </div>\\n<p>When the request will be made to <code>\\\\</code> then we will render <code>index.html</code>. The <code>index.html</code> will use <code>articles</code> that we populated in the previous step.</p>\\n<p>I have used a <a href=\\\"http://startbootstrap.com/template-overviews/1-col-portfolio/\\\">free Twitter bootstrap theme</a> for styling purpose.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-html\\\"><code><span class=\\\"token doctype\\\">&lt;!DOCTYPE html></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>html</span> <span class=\\\"token attr-name\\\">lang</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>en<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>head</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">charset</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>utf-8<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">http-equiv</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>X-UA-Compatible<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>IE<span class=\\\"token punctuation\\\">=</span>edge<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>viewport<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>width<span class=\\\"token punctuation\\\">=</span>device-width, initial-scale<span class=\\\"token punctuation\\\">=</span>1<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>description<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span><span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>author<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span><span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>title</span><span class=\\\"token punctuation\\\">></span></span>Daily Reads<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>title</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ url_for(<span class=\\\"token punctuation\\\">'</span>static<span class=\\\"token punctuation\\\">'</span>, filename<span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">'</span>css/bootstrap.min.css<span class=\\\"token punctuation\\\">'</span>) }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>stylesheet<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ url_for(<span class=\\\"token punctuation\\\">'</span>static<span class=\\\"token punctuation\\\">'</span>, filename<span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">'</span>css/1-col-portfolio.css<span class=\\\"token punctuation\\\">'</span>) }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>stylesheet<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>head</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>body</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>container<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n\\n        {% for article in articles %}\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>row<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>col-md-7<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>a</span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>#<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>img</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>img-responsive<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">src</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ article.img }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">alt</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span><span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>a</span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>col-md-5<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h3</span><span class=\\\"token punctuation\\\">></span></span>{{ article.title }}<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h3</span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>p</span><span class=\\\"token punctuation\\\">></span></span>{{ article.text.decode(\\\"utf-8\\\") }}<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>p</span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>a</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>btn btn-primary<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ article.story_url }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">target</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>_blank<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>Read Full Article <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>span</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>glyphicon glyphicon-chevron-right<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>span</span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>a</span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>hr</span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>hr</span><span class=\\\"token punctuation\\\">></span></span>\\n        {% endfor %}\\n\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>body</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>html</span><span class=\\\"token punctuation\\\">></span></span>\\n</code></pre>\\n      </div>\",\n\t\t\t\t\"excerpt\": \"Welcome to sixteenth week of  52 Technologies in 2016  blog series. This week I will show you how to build a simple yet working  Read It...\",\n\t\t\t\t\"fields\": {\n\t\t\t\t\t\"tagSlugs\": [\n\t\t\t\t\t\t\"/tags/python/\",\n\t\t\t\t\t\t\"/tags/newspaper/\",\n\t\t\t\t\t\t\"/tags/read-it-later/\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"frontmatter\": {\n\t\t\t\t\t\"title\": \"Building Read It Later App with Python Newspaper Library\",\n\t\t\t\t\t\"tags\": [\n\t\t\t\t\t\t\"Python\",\n\t\t\t\t\t\t\"Newspaper\",\n\t\t\t\t\t\t\"Read It Later\"\n\t\t\t\t\t],\n\t\t\t\t\t\"date\": \"August 25, 2017\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"pathContext\": {\n\t\t\t\"slug\": \"/read-it-later-flask-python/\"\n\t\t}\n\t};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---read-it-later-flask-python-03deec0f380ff2f83e0b.js","module.exports = {\n\t\"data\": {\n\t\t\"site\": {\n\t\t\t\"siteMetadata\": {\n\t\t\t\t\"author\": \"Naqushab Neyazee\",\n\t\t\t\t\"homeCity\": \"Noida\"\n\t\t\t}\n\t\t},\n\t\t\"markdownRemark\": {\n\t\t\t\"html\": \"<p>Welcome to sixteenth week of <a href=\\\"https://github.com/shekhargulati/52-technologies-in-2016\\\">52 Technologies in 2016</a> blog series. This week I will show you how to build a simple yet working <strong>Read It Later</strong> application using Twitter likes (or favorites). I rely on my Twitter feed for my daily reading recommendations. I check Twitter several time during the day and whenever I find any article that interests me I like it so that I can read it later. In this tutorial, you will learn how to build <code>Read It Later</code> application using Python programming language. We will make use of article extraction to extract relevant content from the urls.</p>\\n<p>To build this application, we will use following Python libraries:</p>\\n<ol>\\n<li><strong>Flask</strong>: We will use <code>Flask</code> framework to take care of the web feature of the app i.e. handling requests and responding to use with reading recommendation.</li>\\n<li><strong>Tweepy</strong>: <code>Tweepy</code> is a very easy to use library that we will use to talk to Twitter streaming API. We will subscribe to a user’s Twitter stream so as soon as user likes a tweet our application will be notified.</li>\\n<li><strong>Newspaper</strong>: <a href=\\\"https://github.com/codelucas/newspaper\\\">newspaper</a> is a great library to perform article extraction in Python. It makes use of popular Python libraries like <code>beautifulsoup4</code>, <code>lxml</code>, <code>nltk</code> to get the job done.</li>\\n</ol>\\n<p>By the end of this tutorial, you will have a simple yet working application to view articles that you wanted to read later. The following is the screenshot of our application. As you can see below, we extracted main image, summary text, and title from the url.</p>\\n<p><img src=\\\"stories.jpg\\\" alt=\\\"Screenshot\\\"></p>\\n<h2>What is Newspaper?</h2>\\n<p>In this tutorial, I will talk about a Python package called <a href=\\\"http://newspaper.readthedocs.org/\\\">Newspaper</a>. Newspaper is an open source news full-text and article metadata extraction library written in Python 3. It has a very easy to use API that can help you get started in minutes. It can be used to extract the main text of an article, main image of an article, videos in an article, meta description, and meta tags in an article. Newspaper stands on strong shoulders of <code>beautifulsoup4</code>, <code>lxml</code>, and <code>nltk</code> libraries.</p>\\n<p>To extract text from a URL is as simple as shown below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> <span class=\\\"token keyword\\\">from</span> newspaper <span class=\\\"token keyword\\\">import</span> Article\\n\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> url <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'http://firstround.com/review/the-remarkable-advantage-of-abundant-thinking/'</span>\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article <span class=\\\"token operator\\\">=</span> Article<span class=\\\"token punctuation\\\">(</span>url<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article<span class=\\\"token punctuation\\\">.</span>build<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article<span class=\\\"token punctuation\\\">.</span>title\\n<span class=\\\"token string\\\">'The Remarkable Advantage of Abundant Thinking'</span>\\n\\n<span class=\\\"token operator\\\">>></span><span class=\\\"token operator\\\">></span> article<span class=\\\"token punctuation\\\">.</span>text<span class=\\\"token punctuation\\\">.</span>split<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'\\\\n\\\\n'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token string\\\">\\\"If you consider yourself to be ambitious, this has happened to you. Your alarm goes off, and you're ambushed by thoughts of the grind ahead; finding that needle in a haystack; denting the universe; the roller coaster that never ends and many more horrible but unfortunately apt cliches. Today, the groupthink in tech largely believes that you have to suffer and barely survive to succeed. But this is a trap, says sought-after executive coach Katia Verresen, who counsels leaders at Facebook, Stanford, Airbnb, Twitter, and a number of prominent startups.\\\"</span>\\n</code></pre>\\n      </div>\\n<h2>Prerequisite</h2>\\n<p>To follow this blog, you need to have following on your machine:</p>\\n<ol>\\n<li>\\n<p><strong>Python</strong>: You can download Python executable for your operating system from <a href=\\\"https://www.python.org/downloads/\\\">https://www.python.org/downloads/</a>. I will be using Python version <code>3.4.2</code>.</p>\\n</li>\\n<li>\\n<p><strong>Virtualenv</strong>: Virtualenv tool allows you to create isolated Python environments without polluting the global Python installation. This allows you to use multiple Python versions easily on a single machine. Please refer to official documentation for <a href=\\\"https://virtualenv.pypa.io/en/latest/installation.html\\\">installation</a> instructions.</p>\\n</li>\\n<li>\\n<p>Create a new Twitter app <a href=\\\"http://dev.twitter.com/apps\\\">http://dev.twitter.com/apps</a> and note down <code>Consumer Key (API Key)</code>, <code>Consumer Secret (API Secret)</code>, <code>Access Token</code>, and <code>Access Token Secret</code>. We will use them to connect to Twitter API for a user.</p>\\n</li>\\n</ol>\\n<h2>Github Repository</h2>\\n<p>The code for demo application is available on github at <a href=\\\"https://github.com/shekhargulati/dailyreads\\\">dailyreads</a>.</p>\\n<h2>Step 1: Setting up environment</h2>\\n<p>We will start with setting up development environment so that we can build <code>dailyreads</code> application. I use Python <code>virtualenv</code> for most of my Python applications. It helps keep my project environment separate and does not pollute global Python installation.</p>\\n<p>Open a command-line terminal and navigate to a convenient directory on your file system. Make a new directory called <code>dailyreads</code> and change directory to it.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code>$ <span class=\\\"token function\\\">mkdir</span> dailyreads <span class=\\\"token operator\\\">&amp;&amp;</span> <span class=\\\"token function\\\">cd</span> dailyreads\\n</code></pre>\\n      </div>\\n<p>Once inside the <code>dailyreads</code> directory, create a Python 3 virtualenv and activate it.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code>$ virtualenv venv --python<span class=\\\"token operator\\\">=</span>python3\\n$ <span class=\\\"token function\\\">source</span> venv/bin/activate\\n</code></pre>\\n      </div>\\n<p>You can verify the Python installation by executing <code>which python</code> command. It should point to the Python installation inside the <code>venv</code> directory.</p>\\n<h2>Step 2: Download and install dependencies</h2>\\n<p>As mentioned above, we will make use of <code>flask</code>, <code>tweepy</code>, and <code>newspaper</code> libraries. We can download all of them using <code>pip</code>. <code>pip</code> is package manager used to install and manage software packages written in Python.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code>$ pip <span class=\\\"token function\\\">install</span> flask\\n$ pip <span class=\\\"token function\\\">install</span> tweepy\\n$ pip <span class=\\\"token function\\\">install</span> newspaper3k\\n</code></pre>\\n      </div>\\n<p>This will download all the required dependencies and their transitive dependencies.  To view all the installed packages, you can use the <code>pip list</code> command.</p>\\n<h2>Step 3: Write twitter stream listener for user liked tweets</h2>\\n<p>Create a new file <code>app.py</code> inside the <code>dailyreads</code> directory. The first task of our application is to listen to user’s like tweet stream. We will make use of <code>Tweepy</code> library to connect to user tweet stream and select events that are of type <code>favorite</code> as shown below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token keyword\\\">from</span> __future__ <span class=\\\"token keyword\\\">import</span> absolute_import<span class=\\\"token punctuation\\\">,</span> print_function\\n<span class=\\\"token keyword\\\">from</span> tweepy<span class=\\\"token punctuation\\\">.</span>streaming <span class=\\\"token keyword\\\">import</span> StreamListener\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> OAuthHandler\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> Stream\\n<span class=\\\"token keyword\\\">import</span> os\\n<span class=\\\"token keyword\\\">import</span> json\\n\\nconsumer_key<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_KEY\\\"</span><span class=\\\"token punctuation\\\">)</span>\\nconsumer_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_TOKEN\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LikedTweetsListener</span><span class=\\\"token punctuation\\\">(</span>StreamListener<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_data</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        tweet <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>loads<span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token string\\\">'event'</span> <span class=\\\"token keyword\\\">in</span> tweet <span class=\\\"token operator\\\">and</span> tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'event'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">\\\"favorite\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n            <span class=\\\"token keyword\\\">print</span><span class=\\\"token punctuation\\\">(</span>tweet<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">return</span> <span class=\\\"token boolean\\\">True</span>\\n\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_error</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Error status received : {0}\\\"</span><span class=\\\"token punctuation\\\">.</span>format<span class=\\\"token punctuation\\\">(</span>status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">if</span> __name__ <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">'__main__'</span><span class=\\\"token punctuation\\\">:</span>\\n    l <span class=\\\"token operator\\\">=</span> LikedTweetsListener<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    auth <span class=\\\"token operator\\\">=</span> OAuthHandler<span class=\\\"token punctuation\\\">(</span>consumer_key<span class=\\\"token punctuation\\\">,</span> consumer_secret<span class=\\\"token punctuation\\\">)</span>\\n    auth<span class=\\\"token punctuation\\\">.</span>set_access_token<span class=\\\"token punctuation\\\">(</span>access_token<span class=\\\"token punctuation\\\">,</span> access_token_secret<span class=\\\"token punctuation\\\">)</span>\\n\\n    stream <span class=\\\"token operator\\\">=</span> Stream<span class=\\\"token punctuation\\\">(</span>auth<span class=\\\"token punctuation\\\">,</span> l<span class=\\\"token punctuation\\\">)</span>\\n    stream<span class=\\\"token punctuation\\\">.</span>userstream<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>In the code shown above, we did following:</p>\\n<ol>\\n<li>We imported all the required classes and method that we will need to connect Twitter API.</li>\\n<li>We extracted twitter keys from the environment variables and set them as script variables. It is a good idea to use environment variables from the beginning to make sure you don’t commit your keys to version control system and end up making them public.</li>\\n<li>We created a new <code>StreamListener</code> listener. <code>StreamListener</code> exposes several <code>on_*</code> methods that will be invoked when particular events happen. We have overridden <code>on_data</code> and <code>on_error</code> handlers. As is obvious from their names, <code>on_data</code> is called whenever new data is available and <code>on_error</code> is called whenever any exception happens. In the <code>on_data</code> method, we are only printing out events that are of type <code>favorite</code>. Twitter uses event type of favorite for like tweets as well.</li>\\n<li>Finally, we created an instance of <code>Stream</code> object and invoked<code>userstream</code> method on it.</li>\\n</ol>\\n<p>You can run <code>app.py</code> using the <code>python app.py</code>. Make sure to set the environment variables before running the script.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>export TWITTER_CONSUMER_KEY=*********************\\nexport TWITTER_CONSUMER_SECRET=******************************************\\nexport TWITTER_ACCESS_TOKEN=**************************************************\\nexport TWITTER_ACCESS_SECRET=******************************************</code></pre>\\n      </div>\\n<h2>Step 4: Extract article content from the tweet</h2>\\n<p>This is the main part of the application. Now, that we have handle to a liked tweet. We have to extract the content from it. We will use <code>newspaper</code> library to perform article extraction for us.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token keyword\\\">from</span> __future__ <span class=\\\"token keyword\\\">import</span> absolute_import<span class=\\\"token punctuation\\\">,</span> print_function\\n<span class=\\\"token keyword\\\">from</span> tweepy<span class=\\\"token punctuation\\\">.</span>streaming <span class=\\\"token keyword\\\">import</span> StreamListener\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> OAuthHandler\\n<span class=\\\"token keyword\\\">from</span> tweepy <span class=\\\"token keyword\\\">import</span> Stream\\n<span class=\\\"token keyword\\\">import</span> os\\n\\nconsumer_key<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_KEY\\\"</span><span class=\\\"token punctuation\\\">)</span>\\nconsumer_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_CONSUMER_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_TOKEN\\\"</span><span class=\\\"token punctuation\\\">)</span>\\naccess_token_secret<span class=\\\"token operator\\\">=</span>os<span class=\\\"token punctuation\\\">.</span>getenv<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"TWITTER_ACCESS_SECRET\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n\\narticles <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span>\\n\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LikedTweetsListener</span><span class=\\\"token punctuation\\\">(</span>StreamListener<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_data</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        tweet <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>loads<span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token string\\\">'event'</span> <span class=\\\"token keyword\\\">in</span> tweet <span class=\\\"token operator\\\">and</span> tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'event'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">\\\"favorite\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n            liked_tweet <span class=\\\"token operator\\\">=</span> tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"target_object\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n            liked_tweet_text <span class=\\\"token operator\\\">=</span> liked_tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"text\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n            story_url <span class=\\\"token operator\\\">=</span> extract_url<span class=\\\"token punctuation\\\">(</span>liked_tweet<span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token keyword\\\">if</span> story_url<span class=\\\"token punctuation\\\">:</span>\\n                article <span class=\\\"token operator\\\">=</span> extract_article<span class=\\\"token punctuation\\\">(</span>story_url<span class=\\\"token punctuation\\\">)</span>\\n                <span class=\\\"token keyword\\\">if</span> article<span class=\\\"token punctuation\\\">:</span>\\n                    article<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'story_url'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> story_url\\n                    article<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'liked_on'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> time<span class=\\\"token punctuation\\\">.</span>time<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n                    articles<span class=\\\"token punctuation\\\">.</span>append<span class=\\\"token punctuation\\\">(</span>article<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">return</span> <span class=\\\"token boolean\\\">True</span>\\n\\n    <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">on_error</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Error status received : {0}\\\"</span><span class=\\\"token punctuation\\\">.</span>format<span class=\\\"token punctuation\\\">(</span>status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n\\n<span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">extract_url</span><span class=\\\"token punctuation\\\">(</span>liked_tweet<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    url_entities <span class=\\\"token operator\\\">=</span> liked_tweet<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"entities\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"urls\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token keyword\\\">if</span> url_entities <span class=\\\"token operator\\\">and</span> len<span class=\\\"token punctuation\\\">(</span>url_entities<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">return</span> url_entities<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'expanded_url'</span><span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token keyword\\\">else</span><span class=\\\"token punctuation\\\">:</span>\\n        <span class=\\\"token keyword\\\">return</span> None    \\n\\n\\n<span class=\\\"token keyword\\\">from</span> newspaper <span class=\\\"token keyword\\\">import</span> Article\\n\\n<span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">extract_article</span><span class=\\\"token punctuation\\\">(</span>story_url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    article <span class=\\\"token operator\\\">=</span> Article<span class=\\\"token punctuation\\\">(</span>story_url<span class=\\\"token punctuation\\\">)</span>\\n    article<span class=\\\"token punctuation\\\">.</span>download<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    article<span class=\\\"token punctuation\\\">.</span>parse<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    title <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>title\\n    img <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>top_image\\n    publish_date <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>publish_date\\n    text <span class=\\\"token operator\\\">=</span> article<span class=\\\"token punctuation\\\">.</span>text<span class=\\\"token punctuation\\\">.</span>split<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'\\\\n\\\\n'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token keyword\\\">if</span> article<span class=\\\"token punctuation\\\">.</span>text <span class=\\\"token keyword\\\">else</span> <span class=\\\"token string\\\">\\\"\\\"</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">'title'</span><span class=\\\"token punctuation\\\">:</span>title<span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'img'</span><span class=\\\"token punctuation\\\">:</span>img<span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'publish_date'</span><span class=\\\"token punctuation\\\">:</span>publish_date<span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'text'</span><span class=\\\"token punctuation\\\">:</span>text<span class=\\\"token punctuation\\\">.</span>encode<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'ascii'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'ignore'</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>The <code>extract_article</code> method shown above does all the important work using the newspaper library. To use it, first import the <code>Article</code> class from the <code>newspaper</code> module. Then, you build the article by first instantiating it with the <code>url</code> and then calling <code>download</code> and <code>parse</code> methods. The <code>download</code> method downloads the page content and <code>parse</code> method extract the relevant information from the page. Finally, we build a <code>dict</code> object with all the relevant information and return it.</p>\\n<h2>Step 5: Render articles using Flask</h2>\\n<p>Now, we will a build a simple web application that will render articles. This will also reside inside the <code>app.py</code> file.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-python\\\"><code><span class=\\\"token keyword\\\">from</span> flask <span class=\\\"token keyword\\\">import</span> Flask<span class=\\\"token punctuation\\\">,</span> render_template\\n\\napp <span class=\\\"token operator\\\">=</span> Flask<span class=\\\"token punctuation\\\">(</span>__name__<span class=\\\"token punctuation\\\">)</span>\\n\\n\\n@app<span class=\\\"token punctuation\\\">.</span>route<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">index</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token keyword\\\">return</span> render_template<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"index.html\\\"</span><span class=\\\"token punctuation\\\">,</span> articles<span class=\\\"token operator\\\">=</span>sorted<span class=\\\"token punctuation\\\">(</span>articles<span class=\\\"token punctuation\\\">,</span> key<span class=\\\"token operator\\\">=</span><span class=\\\"token keyword\\\">lambda</span> article<span class=\\\"token punctuation\\\">:</span> article<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"liked_on\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> reverse<span class=\\\"token operator\\\">=</span><span class=\\\"token boolean\\\">True</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">if</span> __name__ <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">'__main__'</span><span class=\\\"token punctuation\\\">:</span>\\n    l <span class=\\\"token operator\\\">=</span> LikedTweetsListener<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    auth <span class=\\\"token operator\\\">=</span> OAuthHandler<span class=\\\"token punctuation\\\">(</span>consumer_key<span class=\\\"token punctuation\\\">,</span> consumer_secret<span class=\\\"token punctuation\\\">)</span>\\n    auth<span class=\\\"token punctuation\\\">.</span>set_access_token<span class=\\\"token punctuation\\\">(</span>access_token<span class=\\\"token punctuation\\\">,</span> access_token_secret<span class=\\\"token punctuation\\\">)</span>\\n\\n    stream <span class=\\\"token operator\\\">=</span> Stream<span class=\\\"token punctuation\\\">(</span>auth<span class=\\\"token punctuation\\\">,</span> l<span class=\\\"token punctuation\\\">)</span>\\n    stream<span class=\\\"token punctuation\\\">.</span>userstream<span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">async</span><span class=\\\"token operator\\\">=</span><span class=\\\"token boolean\\\">True</span><span class=\\\"token punctuation\\\">)</span>\\n\\n    app<span class=\\\"token punctuation\\\">.</span>run<span class=\\\"token punctuation\\\">(</span>debug<span class=\\\"token operator\\\">=</span><span class=\\\"token boolean\\\">True</span><span class=\\\"token punctuation\\\">)</span>    \\n</code></pre>\\n      </div>\\n<p>When the request will be made to <code>\\\\</code> then we will render <code>index.html</code>. The <code>index.html</code> will use <code>articles</code> that we populated in the previous step.</p>\\n<p>I have used a <a href=\\\"http://startbootstrap.com/template-overviews/1-col-portfolio/\\\">free Twitter bootstrap theme</a> for styling purpose.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-html\\\"><code><span class=\\\"token doctype\\\">&lt;!DOCTYPE html></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>html</span> <span class=\\\"token attr-name\\\">lang</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>en<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>head</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">charset</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>utf-8<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">http-equiv</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>X-UA-Compatible<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>IE<span class=\\\"token punctuation\\\">=</span>edge<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>viewport<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>width<span class=\\\"token punctuation\\\">=</span>device-width, initial-scale<span class=\\\"token punctuation\\\">=</span>1<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>description<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span><span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>author<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span><span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>title</span><span class=\\\"token punctuation\\\">></span></span>Daily Reads<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>title</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ url_for(<span class=\\\"token punctuation\\\">'</span>static<span class=\\\"token punctuation\\\">'</span>, filename<span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">'</span>css/bootstrap.min.css<span class=\\\"token punctuation\\\">'</span>) }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>stylesheet<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ url_for(<span class=\\\"token punctuation\\\">'</span>static<span class=\\\"token punctuation\\\">'</span>, filename<span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">'</span>css/1-col-portfolio.css<span class=\\\"token punctuation\\\">'</span>) }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>stylesheet<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>head</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>body</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>container<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n\\n        {% for article in articles %}\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>row<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>col-md-7<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>a</span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>#<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>img</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>img-responsive<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">src</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ article.img }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">alt</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span><span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>a</span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>col-md-5<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h3</span><span class=\\\"token punctuation\\\">></span></span>{{ article.title }}<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h3</span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>p</span><span class=\\\"token punctuation\\\">></span></span>{{ article.text.decode(\\\"utf-8\\\") }}<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>p</span><span class=\\\"token punctuation\\\">></span></span>\\n                <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>a</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>btn btn-primary<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>{{ article.story_url }}<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">target</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>_blank<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>Read Full Article <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>span</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>glyphicon glyphicon-chevron-right<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>span</span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>a</span><span class=\\\"token punctuation\\\">></span></span>\\n            <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>hr</span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>hr</span><span class=\\\"token punctuation\\\">></span></span>\\n        {% endfor %}\\n\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>body</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>html</span><span class=\\\"token punctuation\\\">></span></span>\\n</code></pre>\\n      </div>\",\n\t\t\t\"excerpt\": \"Welcome to sixteenth week of  52 Technologies in 2016  blog series. This week I will show you how to build a simple yet working  Read It...\",\n\t\t\t\"fields\": {\n\t\t\t\t\"tagSlugs\": [\n\t\t\t\t\t\"/tags/python/\",\n\t\t\t\t\t\"/tags/newspaper/\",\n\t\t\t\t\t\"/tags/read-it-later/\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"frontmatter\": {\n\t\t\t\t\"title\": \"Building Read It Later App with Python Newspaper Library\",\n\t\t\t\t\"tags\": [\n\t\t\t\t\t\"Python\",\n\t\t\t\t\t\"Newspaper\",\n\t\t\t\t\t\"Read It Later\"\n\t\t\t\t],\n\t\t\t\t\"date\": \"August 25, 2017\"\n\t\t\t}\n\t\t}\n\t},\n\t\"pathContext\": {\n\t\t\"slug\": \"/read-it-later-flask-python/\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/read-it-later-flask-python.json\n// module id = ./node_modules/json-loader/index.js!./.cache/json/read-it-later-flask-python.json\n// module chunks = 13"],"sourceRoot":""}